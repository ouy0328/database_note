# 第一单元、数据库系统引论

## 01. 课程简介与内容安排

## 02. 数据库基本概念

### 什么是数据库 (Database)

大规模的集成的数据集合

### 数据库起到什么作用

是对一个企业或应用单位建模的一个结果，

#### 两类最重要的数据

- 实体（客观存在）
- 联系（实体之间的联系）

### 什么是数据库管理系统 (DBMS)

用来存储和管理数据库的软件

### 文件与数据库的关系

- 文件只提供最简单最基本的数据存储，没有数据管理的功能，需要针对不同的文件结构编写不同的代码。

- DBMS实现了很多底层的基础性工作，提供很强的数据管理功能。
- 在多用户并发访问数据导致数据不一致时，文件无法避免这种问题，需要软件层面解决；而DBMS可以解决。
- 在发生故障时，文件系统无法对损坏数据进行恢复；DBMS仍可以保持故障前后数据一致。

数据库管理系统建立在操作系统的文件系统之上

### 为什么要使用数据库

- ![image-20221214145842551](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20221214145842551.png)
- 数据独立以及高效访问
- 减少应用开发时间
- 保证数据完整性以及安全性
- 统一数据管理
- 支持并发访问以及故障恢复

### 学习数据库的必要

- 将计算转换为信息
	- 低端应用：web内存在的所有的数据【十分混乱而多】
	- 高端应用：核能等高新端科技
- 随着当前科技发展，数据的种类不断膨胀
- DBMS是对计算机科学的大部分技术的成果
	- 可以当作对学过的很多知识的一个实例

### 数据、数据模型、数据模式

![image-20221214150758923](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20221214150758923.png)

- 数据是用来描述现实世界各种事物的一种符号，是信息存在的形式。
- 数据模型是用来描述数据的一组概念和定义。
- 数据模式是用一种给定的数据模型对一个特定数据集进行描述说所产生的结果。
- 关系数据模型是使用最广泛的数据模型。

## 03. 数据库三级模式与两级数据独立性

### 数据库三级模式

![image-20221215170529762](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20221215170529762.png)

1. 物理模式：数据在物理磁盘上的存储方式
2. 概念模式：数据的逻辑结构，与物理模式一一对应
3. 视图（外模式）：给用户最终看到的样子，可由概念模式计算得出。

#### 案例：学生选课数据库

![image-20221215170514587](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20221215170514587.png)

- 概念模式

  - students (sid: string, name: string, login: string, age: integer, gpa: real)
  - courses (cid: string, cname: string, credits: integer)
  - enrolled (sid: string, cid: string, grade: integer)
- 物理模式
	- 用堆文件形式存储这三张表
	- 在学生的某项信息中建立索引
- 外模式
	- course_info (cid; string, enrollment: integer)

##### 分析其中两级映射关系

- 外模式中的试图都是概念模式相关信息的可计算映射
- 物理模式与逻辑模式之间存在存储映射

### 数据独立性

![image-20221215170452488](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20221215170452488.png)

- 基于数据库开发的应用程序可以与其数据的具体结构和储存方法相互隔离。
- 数据的逻辑独立性：当数据的逻辑结构发生变化时，基于数据库开发的应用程序可以不受影响。
- 数据的物理独立性：当数据的物理存储发生变化时，基于数据库开发的应用程序可以不受影响。

这是使用数据库管理系统最重要的好处之一。

## 04. 数据库技术发展历史与分类

### 数据模型的发展历史

![image-20221216102934070](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20221216102934070.png)

无管理阶段（1960年之前）：用作科学计算

计算机的非数值应用（60年代）：出现了操作系统以及文件系统，提供简单的数据管理

随着数据管理需求不断增长，DBMS应运而生

- 第一个DBMS（1964年）：名为IDS的数据库管理系统，使用network网状数据模型
- IBM推出第一个商用数据库产品（1969年），采用层次数据模型
- E.F.Codd(IBM)提出了关系数据模型（1970年）
- 其他数据模型：关系对象模型，演绎模型，ER模型……

### 数据库管理系统体系结构的发展

![image-20221216142559395](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20221216142559395.png)

- 集中式数据库系统
- 并行数据库系统
- 分布式数据库系统（联邦式数据库系统）
- 移动数据库系统
	

### 基于数据库系统的应用系统的体系结构的发展

- 集中式结构（主机+终端）
- 分布式结构（联网的计算机之间没有主次之分）
- 客户/服务器结构（应用程序安装在客户端上，多个客户端访问一个服务器）
- 三层/多层体系结构
	- 多个服务器
		- 分为Web 服务器
		- APP服务器
		- 客户端只要能跑浏览器
		- DB 服务器
	- 优点：
		- 应用升级只需要升级app 服务器
		- 客户端成本降低
		- 活动范围增大
- 移动计算
- 云计算/网格计算

### 数据库应用领域的发展

![image-20221216152724422](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20221216152724422.png)

- OLTP：基于结构化的数据以事务型应用为主的应用领域（日常事务处理）
- 工程数据库
- 多媒体数据库
- 时态数据库（管理数据的时态信息）
- 空间数据库（管理时空地理信息）
- 数据仓库、OLAP、数据挖掘
- 知识管理
- ……

## 05. 数据库系统的组成与生命期

### 什么是数据库系统

![image-20221216152836585](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20221216152836585.png)

应用程序 + DBMS（核心） + 数据库 + DBA（数据库管理员）

### DBMS是数据库系统的核心

- 提供高级用户访问接口
- 支持有效的查询处理和优化
- 有效的目录管理
- 提供有效的数据并发控制和恢复（保证数据的一致性）
- 提供完善的完整性约束和支持完整性约束检查
- 提供完善的访问控制机制

### 数据库系统的生命周期

![image-20221216153613459](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20221216153613459.png)

- 数据库系统的规划阶段
- 数据库设计
- 数据库建立并加载数据
- 基于数据库开发应用程序、管理和维护
- 数据库的扩展和重构

# 第二单元、数据模型

## 06. 层次数据模型

## 07. 网状数据模型

## 08. 关系数据模型

## 09. 关系代数基本操作

## 10. 关系代数连接操作

## 11. 关系代数除法和外连接操作

## 12. 关系演算

## 13. 传统数据模型评价

## 14. ER数据模型和面向对象数据模型

# 第三单元、数据库语言SQL

ddl数据描述语言, dcl数据控制语言, dml数据操纵语言, ql查询语言

## 15. SQL简介

## 16. 查询语句基本结构

## 17. 简单查询语句

## 18. 基于集合操作的查询语句

## 19. 基于嵌套子查询的查询语句

## 20. 除法与聚集函数计算

## 21. 分组聚集函数计算

## 22. 更复杂的分组聚集函数计算

## 23. CAST与CASE表达式

## 24. 标量子查询

## 25. 表表达式与公共表表达式

## 26. 递归子查询一

## 27. 递归子查询二

## 28. 数据操纵语言

## 29. 关于视图

## 30. 嵌入式SQL

## 31. 使用游标处理查询结果

## 32. 动态SQL与存储过程

# 第四单元、数据库管理系统

## 33. DBMS核心的模块结构

## 34. DBMS进程结构

## 35. 数据库访问管理-文件组织

## 36. 数据库访问管理-索引技术

## 37. 查询优化概述

## 38. 代数优化

## 39. 操作优化

## 40. 连接操作实现算法

## 41. 恢复机制概述

## 42. 事务与日志

## 43. 更新策略及故障后的恢复

## 44. 并发控制概述

## 45. 可串行化

## 46. 封锁法及其锁协议

## 47. 死锁与活锁

## 48. 死锁检测与死锁预防

# 第五单元、数据库的安全与完整性约束

## 49. 概述

## 50. 统计数据库的安全

## 51. 完整性约束

## 52. 数据库的更新与引用完整性

## 53. 触发器

## 54. 触发器的应用

# 第六单元、数据库设计  

## 55. 数据依赖

## 56. 关系模式的规范化

## 57. 数据库设计方法

## 58. 数据库设计流程

## 59. 各阶段主要工作

## 60. 案例分析一

## 61. 案例分析二

# 第七单元、分布式数据库系统   

## 62. 概述

## 63. 需要解决的主要问题

## 64. 数据分布

## 65. 联邦式数据库系统

## 66. 查询优化、恢复与并发控制

## 第八单元数据库新技术及其应用

## 67. 数据仓库概述

## 68. OLTP与OLAP

## 69. 星型模式与雪花模式

## 70. 实视图

## 71. 数据立方与OLAP操作

## 72. 数据挖掘简介
